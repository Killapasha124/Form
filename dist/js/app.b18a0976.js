(function(){"use strict";var e={3803:function(e,t,s){var r=s(6369),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("body",[t("div",{staticClass:"container"},[t("h1",{staticClass:"text"},[e._v("Форма создания Клиента")]),t("form",{on:{submit:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[t("div",[t("label",{attrs:{for:"surname"}},[e._v("Фамилия"),t("span",{staticClass:"required-indicator",class:{"valid-indicator":!e.$v.client.surname.$error&&e.client.surname}})]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.client.surname,expression:"client.surname"}],staticClass:"input-data",class:{invalid:e.$v.client.surname.$error,valid:!e.$v.client.surname.$error&&e.client.surname},attrs:{type:"text",id:"surname",placeholder:"Введите вашу фамилию"},domProps:{value:e.client.surname},on:{input:[function(t){t.target.composing||e.$set(e.client,"surname",t.target.value)},function(t){return e.validateInput("surname")}],blur:function(t){return e.$v.client.surname.$touch()}}}),e.$v.client.surname.$error?t("span",{staticClass:"error-message"},[e._v("Это обязательное поле")]):e._e(),e.$v.client.surname.minLength?e._e():t("span",{staticClass:"error-message"},[e._v("Минимальная длина 3 символа")])]),t("div",[t("label",{attrs:{for:"name"}},[e._v("Имя"),t("span",{staticClass:"required-indicator",class:{"valid-indicator":!e.$v.client.name.$error&&e.client.name}})]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.client.name,expression:"client.name"}],staticClass:"input-data",class:{invalid:e.$v.client.name.$error,valid:!e.$v.client.name.$error&&e.client.name},attrs:{type:"text",id:"name",placeholder:"Введите ваше имя"},domProps:{value:e.client.name},on:{input:[function(t){t.target.composing||e.$set(e.client,"name",t.target.value)},function(t){return e.validateInput("name")}],blur:function(t){return e.$v.client.name.$touch()}}}),e.$v.client.name.$error?t("span",{staticClass:"error-message"},[e._v("Это обязательное поле")]):e._e(),e.$v.client.name.minLength?e._e():t("span",{staticClass:"error-message"},[e._v("Минимальная длина 3 символа")])]),t("div",[t("label",{attrs:{for:"patronymic"}},[e._v("Отчество")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.client.patronymic,expression:"client.patronymic"}],attrs:{type:"text",id:"patronymic"},domProps:{value:e.client.patronymic},on:{input:function(t){t.target.composing||e.$set(e.client,"patronymic",t.target.value)}}})]),t("div",[t("label",{attrs:{for:"birthdate"}},[e._v("Дата рождения "),t("span",{staticClass:"required-indicator",class:{"valid-indicator":!e.$v.client.birthdate.$error&&e.client.birthdate}})]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.client.birthdate,expression:"client.birthdate"}],staticClass:"input-data",class:{invalid:e.$v.client.birthdate.$error,valid:!e.$v.client.birthdate.$error&&e.client.birthdate},attrs:{type:"date",id:"birthdate"},domProps:{value:e.client.birthdate},on:{input:function(t){t.target.composing||e.$set(e.client,"birthdate",t.target.value)}}}),e.$v.client.birthdate.$error?t("span",{staticClass:"error-message"},[e._v("Укажите дату")]):e._e()]),t("div",[t("label",{attrs:{for:"phone"}},[e._v("Номер телефона"),t("span",{staticClass:"required-indicator",class:{"valid-indicator":!e.$v.client.phone.$error&&e.client.phone}})]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.formattedPhone,expression:"formattedPhone"}],staticClass:"input-data",class:{invalid:e.$v.client.phone.$error,valid:!e.$v.client.phone.$error&&e.client.phone},attrs:{type:"tel",id:"phone",placeholder:"+7(900)111-11-11",maxlength:12},domProps:{value:e.formattedPhone},on:{input:[function(t){t.target.composing||(e.formattedPhone=t.target.value)},e.validatePhone],blur:function(t){return e.$v.client.surname.$touch()}}}),e.$v.client.phone.$error?t("span",{staticClass:"error-message"},[e._v("Это обязательное поле")]):e._e()]),t("div",{staticClass:"gender"},[t("label",{staticClass:"gender__title"},[e._v("Пол")]),t("div",{staticClass:"gender__options"},[t("div",{staticClass:"sex__option"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.client.gender,expression:"client.gender"}],attrs:{type:"radio",id:"male",value:"male"},domProps:{checked:e._q(e.client.gender,"male")},on:{change:function(t){return e.$set(e.client,"gender","male")}}}),t("label",{attrs:{for:"male"}},[e._v("Мужской")])]),t("div",{staticClass:"sex__option"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.client.gender,expression:"client.gender"}],attrs:{type:"radio",id:"female",value:"female"},domProps:{checked:e._q(e.client.gender,"female")},on:{change:function(t){return e.$set(e.client,"gender","female")}}}),t("label",{attrs:{for:"female"}},[e._v("Женский")])])])]),t("div",{staticClass:"client-group"},[t("label",{staticClass:"client-group__title"},[e._v("Группа клиентов")]),t("div",{staticClass:"multi-selector"},[t("div",{staticClass:"selected-items"},e._l(e.client.clientGroup,(function(s,r){return t("div",{key:r,staticClass:"selected-item"},[e._v(" "+e._s(s)+" "),t("button",{on:{click:function(t){return e.removeItem(r)}}},[e._v("X")])])})),0),t("div",{staticClass:"selection"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedValue,expression:"selectedValue"}],staticClass:"client-group__select",on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedValue=t.target.multiple?s:s[0]},e.addItem]}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Выберите элемент")]),t("option",{attrs:{value:"VIP"}},[e._v("VIP")]),t("option",{attrs:{value:"Проблемные"}},[e._v("Проблемные")]),t("option",{attrs:{value:"ОМС"}},[e._v("ОМС")])])])])]),t("div",[t("label",{attrs:{for:"doctor"}},[e._v("Лечащий врач")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.client.doctor,expression:"client.doctor"}],attrs:{id:"doctor"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.client,"doctor",t.target.multiple?s:s[0])}}},[t("option",{attrs:{value:"Иванов"}},[e._v("Иванов")]),t("option",{attrs:{value:"Захаров"}},[e._v("Захаров")]),t("option",{attrs:{value:"Чернышева"}},[e._v("Чернышева")])])]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.client.noSMS,expression:"client.noSMS"}],attrs:{type:"checkbox",id:"noSMS"},domProps:{checked:Array.isArray(e.client.noSMS)?e._i(e.client.noSMS,null)>-1:e.client.noSMS},on:{change:function(t){var s=e.client.noSMS,r=t.target,a=!!r.checked;if(Array.isArray(s)){var i=null,n=e._i(s,i);r.checked?n<0&&e.$set(e.client,"noSMS",s.concat([i])):n>-1&&e.$set(e.client,"noSMS",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.client,"noSMS",a)}}}),t("label",{attrs:{for:"noSMS"}},[e._v("Не отправлять СМС")])]),t("h2",[e._v("Адрес")]),t("div",[t("label",{attrs:{for:"index"}},[e._v("Индекс")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.client.address.index,expression:"client.address.index"}],attrs:{type:"text",id:"index"},domProps:{value:e.client.address.index},on:{input:function(t){t.target.composing||e.$set(e.client.address,"index",t.target.value)}}})]),t("div",[t("label",{attrs:{for:"country"}},[e._v("Страна")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.client.address.country,expression:"client.address.country"}],attrs:{type:"text",id:"country"},domProps:{value:e.client.address.country},on:{input:function(t){t.target.composing||e.$set(e.client.address,"country",t.target.value)}}})]),t("div",[t("label",{attrs:{for:"region"}},[e._v("Область")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.client.address.region,expression:"client.address.region"}],attrs:{type:"text",id:"region"},domProps:{value:e.client.address.region},on:{input:function(t){t.target.composing||e.$set(e.client.address,"region",t.target.value)}}})]),t("div",[t("label",{attrs:{for:"city"}},[e._v("Город"),t("span",{staticClass:"required-indicator",class:{"valid-indicator":!e.$v.client.address.city.$error&&e.client.address.city}})]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.client.address.city,expression:"client.address.city"}],staticClass:"input-data",class:{invalid:e.$v.client.address.city.$error,valid:!e.$v.client.address.city.$error&&e.client.address.city},attrs:{type:"text",id:"city",placeholder:"Укажите ваш город проживания"},domProps:{value:e.client.address.city},on:{input:[function(t){t.target.composing||e.$set(e.client.address,"city",t.target.value)},function(t){return e.validateInput("city")}],blur:function(t){return e.$v.client.address.city.$touch()}}}),e.$v.client.phone.$error?t("span",{staticClass:"error-message"},[e._v("Это обязательное поле")]):e._e()]),t("div",[t("label",{attrs:{for:"street"}},[e._v("Улица")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.client.address.street,expression:"client.address.street"}],attrs:{type:"text",id:"street"},domProps:{value:e.client.address.street},on:{input:function(t){t.target.composing||e.$set(e.client.address,"street",t.target.value)}}})]),t("div",[t("label",{attrs:{for:"house"}},[e._v("Дом")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.client.address.house,expression:"client.address.house"}],attrs:{type:"text",id:"house"},domProps:{value:e.client.address.house},on:{input:function(t){t.target.composing||e.$set(e.client.address,"house",t.target.value)}}})]),t("div",[t("h2",[e._v("Паспорт")]),t("div",[t("label",{attrs:{for:"documentType"}},[e._v("Тип документа"),t("span",{staticClass:"required-indicator",class:{"valid-indicator":!e.$v.client.passport.documentType.$error&&e.client.passport.documentType}})]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.client.passport.documentType,expression:"client.passport.documentType"}],staticClass:"input-data",class:{invalid:e.$v.client.passport.documentType.$error,valid:!e.$v.client.passport.documentType.$error&&e.client.passport.documentType},attrs:{id:"documentType"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.client.passport,"documentType",t.target.multiple?s:s[0])}}},[t("option",{attrs:{value:"Паспорт"}},[e._v("Паспорт")]),t("option",{attrs:{value:"Свидетельство о рождении"}},[e._v("Свидетельство о рождении")]),t("option",{attrs:{value:"Вод. удостоверение"}},[e._v("Вод. удостоверение")])]),e.$v.client.passport.documentType.$error?t("span",{staticClass:"error-message"},[e._v("Укажите тип пасспорта")]):e._e()]),t("div",[t("label",{attrs:{for:"passportSeries"}},[e._v("Серия")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.client.passport.series,expression:"client.passport.series"}],staticClass:"input-data",class:{invalid:!e.$v.client.passport.series.minLength,valid:e.$v.client.passport.series.minLength&&e.client.passport.series},attrs:{type:"text",id:"passportSeries",maxlength:"4",placeholder:"1111",pattern:"[0-9]{4}"},domProps:{value:e.client.passport.series},on:{input:[function(t){t.target.composing||e.$set(e.client.passport,"series",t.target.value)},e.validatePassportSeries]}}),e.$v.client.passport.series.minLength?e._e():t("span",{staticClass:"error-message"},[e._v("Серия паспорта должна содержать 4 цифры")])]),t("div",[t("label",{attrs:{for:"passportNumber"}},[e._v("Номер")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.client.passport.number,expression:"client.passport.number"}],staticClass:"input-data",class:{invalid:!e.$v.client.passport.number.minLength,valid:e.$v.client.passport.number.minLength&&e.client.passport.number},attrs:{type:"text",id:"passportNumber",maxlength:"6",placeholder:"111111"},domProps:{value:e.client.passport.number},on:{input:[function(t){t.target.composing||e.$set(e.client.passport,"number",t.target.value)},e.validatePassportNumber]}}),e.$v.client.passport.number.minLength?e._e():t("span",{staticClass:"error-message"},[e._v("Серия паспорта должна содержать 6 цифры")])]),t("div",[t("label",{attrs:{for:"issuedBy"}},[e._v("Кем выдан")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.client.passport.issuedBy,expression:"client.passport.issuedBy"}],attrs:{type:"text",id:"issuedBy"},domProps:{value:e.client.passport.issuedBy},on:{input:function(t){t.target.composing||e.$set(e.client.passport,"issuedBy",t.target.value)}}})]),t("div",[t("label",{attrs:{for:"issueDate"}},[e._v("Дата выдачи"),t("span",{staticClass:"required-indicator",class:{"valid-indicator":!e.$v.client.passport.issueDate.$error&&e.client.passport.issueDate}})]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.client.passport.issueDate,expression:"client.passport.issueDate"}],staticClass:"input-data",class:{invalid:e.$v.client.passport.issueDate.$error,valid:!e.$v.client.passport.issueDate.$error&&e.client.passport.issueDate},attrs:{type:"date",id:"issueDate"},domProps:{value:e.client.passport.issueDate},on:{input:function(t){t.target.composing||e.$set(e.client.passport,"issueDate",t.target.value)}}}),e.$v.client.passport.documentType.$error?t("span",{staticClass:"error-message"},[e._v("Укажите дату выдачи пасспорта")]):e._e()])]),t("button",{on:{click:e.submitForm}},[e._v("Создать Клиента")]),e.successModal?t("div",{staticClass:"modal success"},[t("span",{staticClass:"modal-close",on:{click:function(t){e.successModal=!1}}},[e._v("✖")]),t("span",{staticClass:"modal-icon"},[e._v("✔")]),t("p",[e._v("Клиент успешно создан!")])]):e._e(),e.errorModal?t("div",{staticClass:"modal error"},[t("span",{staticClass:"modal-close",on:{click:function(t){e.errorModal=!1}}},[e._v("✖")]),t("span",{staticClass:"modal-icon"},[e._v("X")]),t("p",[e._v("Проверьте правильность заполнения полей.")])]):e._e()])])])])},i=[],n=(s(560),s(4951)),o=s(5795),l={mixins:[n.oE],validations:{client:{surname:{required:o.C1,minLength:(0,o.Ei)(3)},name:{required:o.C1,minLength:(0,o.Ei)(3)},birthdate:{required:o.C1},phone:{required:o.C1,minLength:(0,o.Ei)(12)},address:{city:{required:o.C1,minLength:(0,o.Ei)(3)}},passport:{documentType:{required:o.C1},series:{required:o.C1,minLength:(0,o.Ei)(4)},number:{required:o.C1,minLength:(0,o.Ei)(6)},issueDate:{required:o.C1}}}},data(){return{client:{surname:"",name:"",patronymic:"",birthdate:"",phone:"",gender:"",clientGroup:[],doctor:"",noSMS:!1,address:{index:"",country:"",region:"",city:"",street:"",house:""},passport:{documentType:"",series:"",number:"",issuedBy:"",issueDate:""}},selectedValue:"",successModal:!1,errorModal:!1}},computed:{formattedPhone:{get(){return this.client.phone},set(e){this.client.phone=this.formatPhoneNumber(e)}}},methods:{addItem(){this.selectedValue&&!this.client.clientGroup.includes(this.selectedValue)&&(this.client.clientGroup.push(this.selectedValue),this.selectedValue="")},validateInput(e){"surname"===e?this.client.surname=this.client.surname.replace(/[^a-zA-Zа-яА-Я]/g,""):"city"===e?this.client.address.city=this.client.address.city.replace(/[^a-zA-Zа-яА-Я]/g,""):"name"===e&&(this.client.name=this.client.name.replace(/[^a-zA-Zа-яА-Я]/g,""))},formatPhoneNumber(e){return e.replace(/\D/g,"").replace(/(\d{1})(\d{3})(\d{3})(\d{2})(\d{2})/,"+7($2)$3-$4-$5")},validatePhone(){const e=/^\+7\(\d{3}\)\d{3}-\d{2}-\d{2}$/.test(this.client.phone),t=this.client.phone.replace(/\D/g,"").length>11;if(this.$v.client.phone.$touch(),!e||t)return!1},validatePassportSeries(){this.client.passport.series=this.client.passport.series.replace(/\D/g,"").slice(0,4)},validatePassportNumber(){this.client.passport.number=this.client.passport.number.replace(/\D/g,"").slice(0,6)},removeItem(e){this.client.clientGroup.splice(e,1)},submitForm(){this.$v.$touch(),this.$v.$invalid?this.errorModal=!0:this.successModal=!0}}},c=l,d=s(1001),u=(0,d.Z)(c,a,i,!1,null,null,null),p=u.exports;r.ZP.config.productionTip=!1,new r.ZP({render:e=>e(p)}).$mount("#app")}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(t,r,a,i){if(!r){var n=1/0;for(d=0;d<e.length;d++){r=e[d][0],a=e[d][1],i=e[d][2];for(var o=!0,l=0;l<r.length;l++)(!1&i||n>=i)&&Object.keys(s.O).every((function(e){return s.O[e](r[l])}))?r.splice(l--,1):(o=!1,i<n&&(n=i));if(o){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,a,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,i,n=r[0],o=r[1],l=r[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(a in o)s.o(o,a)&&(s.m[a]=o[a]);if(l)var d=l(s)}for(t&&t(r);c<n.length;c++)i=n[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(d)},r=self["webpackChunkform"]=self["webpackChunkform"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(3803)}));r=s.O(r)})();
//# sourceMappingURL=app.b18a0976.js.map